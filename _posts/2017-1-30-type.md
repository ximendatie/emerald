---
title: æœ‰æ•ˆåˆ¤æ–­JavaScriptæ•°æ®ç±»å‹
---
 
JSè¯­è¨€å˜é‡ç±»å‹åŒ…æ‹¬ï¼šå­—ç¬¦ä¸²ã€æ•°å­—ã€å¸ƒå°”ã€æ•°ç»„ã€å¯¹è±¡ã€Nullã€Undefinedï¼ˆæ ¹æ®W3Schoolæ ‡å‡†ï¼Œä¹Ÿæœ‰å…¶ä»–è¯´æ³•æ­¤å¤„ä¸è¡¨ï¼‰ï¼Œä½†æ˜¯åˆ¤æ–­æŸä¸ªå˜é‡çš„ç±»å‹å½’å±åœ¨JSä¸­å´æ˜¾å¾—ä¸é‚£ä¹ˆå®¹æ˜“ã€‚ä¸‹é¢æˆ‘ä»¬ä»‹ç»å‡ ç§ç±»å‹åˆ¤æ–­çš„æ–¹æ³•ï¼Œå¹¶ç»™å¤§å®¶ä»‹ç»ä¸€ç§æ™®é€‚æ–¹æ³•ã€‚

*æ–‡ä¸­æ‰€æœ‰ç»“è®ºæœ¬äººéƒ½äº²è‡ªå°è¯•è¿‡ï¼Œæ”¾å¿ƒé£Ÿç”¨*

<!--more-->

---
### ä»¤äººå¤±æœ›çš„ typeof

å¯¹äºç±»å‹åˆ¤æ–­æˆ‘ä»¬èƒ½æœ€å¿«æƒ³åˆ°çš„ï¼Œå¯èƒ½æ˜¯JSé‡Œé¢çš„typeofï¼Œçœ‹åå­—å°±çŸ¥é“å®ƒæ˜¯åšä»€ä¹ˆçš„äº†ï¼Œä¸è¿‡æ•ˆæœå´å¹¶ä¸ä»¤äººæ»¡æ„ã€‚

|var a|typeof|
|:-----|:------|
|undefined|'undefined'|
|null|**'object'**|
|true/false|'boolean'|
|123|'number'|
|'abc'|'string'|
|[1,2,3]|**'object'**|
|{'a':1,'b':2}|**'object'**|


æ˜¯ä¸æ˜¯å‘ç°ä¸Šé¢è¡¨æ ¼å¯¹äºç±»å‹åˆ¤æ–­æ¥è¯´å¥½åƒæœ‰ç‚¹ä¸è¶³ï¼Œå› ä¸ºnullã€æ•°ç»„ã€å¯¹è±¡åˆ¤æ–­ç»“æœéƒ½æ˜¯ `object`ï¼Œæ²¡äº†å”¯ä¸€æ€§å°±æ²¡äº†åˆ¤æ–­æ„ä¹‰ï¼Œé¡¿æ—¶è§‰å¾—typeofæœ‰ç‚¹é¸¡è‚‹äº†ã€‚

ç„¶è€Œtypeofçš„é—®é¢˜è¿˜ä¸åªæ˜¯è¿™ä¸€ç‚¹ï¼Œä¸‹é¢çš„é—®é¢˜æ‰çœŸæ­£è®©ä½ è§‰å¾—å®ƒæ˜¯ä¸ªé¸¡è‚‹éƒ½ä¸å¦‚çš„é¸¡å±è‚¡ã€‚

```javascript
    Value               Class      Type
    -------------------------------------
    "foo"               String     string
    new String("foo")   String     object
    1.2                 Number     number
    new Number(1.2)     Number     object
    true                Boolean    boolean
    new Boolean(true)   Boolean    object
    new Date()          Date       object
    new Error()         Error      object
    [1,2,3]             Array      object
    new Array(1, 2, 3)  Array      object
    new Function("")    Function   function
    /abc/g              RegExp     object (function in Nitro/V8)
    new RegExp("meow")  RegExp     object (function in Nitro/V8)
    {}                  Object     object
    new Object()        Object     object
```

è¿™ä¹ˆä¸€çœ‹ç®€ç›´å¯¹typeofæ»¡æ»¡çš„å«Œå¼ƒï¼Œä¸åŒç±»å‹åˆ¤æ–­æˆä¸€æ ·å°±ç®—äº†ï¼Œç»“æœåŒä¸€ä¸ªç±»å‹è¿˜åˆ¤æ–­å‡ºä¸åŒçš„ç»“æœï¼Œç®—æˆ‘ä»¥å‰å¯¹ä½ çœ‹èµ°çœ¼äº†ğŸ‘‹

>typeof æ“ä½œç¬¦ï¼ˆå’Œ instanceof ä¸€èµ·ï¼‰æˆ–è®¸æ˜¯ JavaScript ä¸­æœ€å¤§çš„è®¾è®¡ç¼ºé™·ï¼Œ å› ä¸ºå‡ ä¹ä¸å¯èƒ½ä»å®ƒä»¬é‚£é‡Œå¾—åˆ°æƒ³è¦çš„ç»“æœã€‚     
> â€”â€”JavaScriptç§˜å¯†èŠ±å›­


---
### çœ¼å‰ä¸€äº®çš„ constructor

constructor å¯¹è±¡çš„æ„é€ å‡½æ•°ï¼Œåˆ©ç”¨å®ƒæ¥åˆ¤æ–­æ•°æ®ç±»å‹å‘ç°è¿˜æ˜¯å¾ˆæœ‰æ•ˆçš„

```javascript
    Value               Class      constructor
    -------------------------------------------
    "foo"               String     String
    new String("foo")   String     String
    1.2                 Number     Number
    new Number(1.2)     Number     Number
    true                Boolean    Boolean
    new Boolean(true)   Boolean    Boolean
    new Date()          Date       Date
    new Error()         Error      Error
    [1,2,3]             Array      Array
    new Array(1, 2, 3)  Array      Array
    new Function("")    Function   Function
    /abc/g              RegExp     RegExp    
    new RegExp("meow")  RegExp     RegExp
    {}                  Object     Object
    new Object()        Object     Object
```

è¡¨æ ¼æœ€åä¸€åˆ—æ˜¯æŸç±»å‹çš„æ„é€ å‡½æ•°ï¼Œæ¯”å¦‚ä¸‹é¢çš„ä»£ç 
    
``` javascript   
a= 'foo'
if(a.constructor==String){
   console.log(a.constructor);
   console.log(typeof(a.constructor));
}
    
//ç»“æœï¼š
   [Function: String]
   function
``` 
æˆ‘ä»¬å¯ä»¥æ¸…æ™°çœ‹å‡ºé€šè¿‡æ„é€ å‡½æ•°å¯ä»¥ç²¾å‡†çš„å¯¹ä¸åŒç±»å‹è¿›è¡Œåˆ¤æ–­ï¼Œconstructorçš„åŠŸèƒ½ç€å®è®©äººçœ¼å‰ä¸€äº®ï¼Œä¸è¿‡ä¹Ÿç•¥æœ‰ç‘•ç–µï¼Œé‚£å°±æ˜¯å®ƒæ— æ³•å¯¹undefinedå’Œnullè¿›è¡Œåˆ¤æ–­ã€‚**ä¸è¿‡æˆ‘ä»¬å¯ä»¥é€šè¿‡ifåˆ¤æ–­è¿›è¡Œè¡¥å……ï¼Œå¦‚æ­¤ä»¥æ¥ï¼Œé€šè¿‡constructorçš„åˆ¤æ–­æ–¹æ³•å°±å®Œç¾äº†**ã€‚

---
### å¤§æ€å™¨ Object.prototype.toString

JavaScript æ ‡å‡†æ–‡æ¡£åªç»™å‡ºäº†ä¸€ç§è·å– [[Class]] å€¼çš„æ–¹æ³•ï¼Œé‚£å°±æ˜¯ä½¿ç”¨ Object.prototype.toStringã€‚

```javascript
function is(type, obj) {
    var clas = Object.prototype.toString.call(obj).slice(8, -1);
    return obj !== undefined && obj !== null && clas === type;
}

is('String', 'test'); // true
is('String', new String('test')); // true
```

ä¸Šé¢ä¾‹å­ä¸­ï¼ŒObject.prototype.toString æ–¹æ³•è¢«è°ƒç”¨ï¼Œthis è¢«è®¾ç½®ä¸ºäº†éœ€è¦è·å– [[Class]] å€¼çš„å¯¹è±¡ã€‚

æ³¨ï¼šObject.prototype.toString è¿”å›ä¸€ç§æ ‡å‡†æ ¼å¼å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡ slice æˆªå–æŒ‡å®šä½ç½®çš„å­—ç¬¦ä¸²ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```javascript
Object.prototype.toString.call([])    // "[object Array]"
Object.prototype.toString.call({})    // "[object Object]"
Object.prototype.toString.call(2)    // "[object Number]"
Object.prototype.toString.call(null)    // "[object Null]"
Object.prototype.toString.call(undefined)    // "[object Undefined]"
```

æˆ‘ä»¬å†çœ‹çœ‹å¯¹æ‰€æœ‰ç±»å‹çš„å¤„ç†æ•ˆæœï¼š

```javascript
    Value               Class      Object.prototype.toString.call
    -------------------------------------------------------------
    "foo"               String     String
    new String("foo")   String     String
    1.2                 Number     Number
    new Number(1.2)     Number     Number
    true                Boolean    Boolean
    new Boolean(true)   Boolean    Boolean
    new Date()          Date       Date
    new Error()         Error      Error
    [1,2,3]             Array      Array
    new Array(1, 2, 3)  Array      Array
    new Function("")    Function   Function
    /abc/g              RegExp     RegExp    
    new RegExp("meow")  RegExp     RegExp
    {}                  Object     Object
    new Object()        Object     Object
    null                Null       Null
    undefined           Undefined  Undefined
```

ä¸Šé¢çš„ç±»å‹å›Šæ‹¬äº†æ‰€æœ‰ç±»å‹ï¼ŒåŒ…æ‹¬äº†nullå’Œundefinedï¼Œç»ˆäºæœ‰ä¸€ä¸ªä¸€åŠ³æ°¸é€¸çš„æ–¹æ³•äº†ï¼Œå¤§å®¶å¯ä»¥å°½æƒ…ä½¿ç”¨äº†ï¼Œä¸è¿‡å¯¹äºnullå’Œundefinedçš„åˆ¤æ–­éª‘å£«å¯¹äºæµè§ˆå™¨æœ‰ä¸€å®šè¦æ±‚çš„(ie9+)ï¼Œæ‰€ä»¥æ€»ç»“æ¥çœ‹å¤§å®¶è¿˜æ˜¯å°½é‡ç”¨ifåˆ¤æ–­ï½

---
### End

æ€»çš„æ¥è¯´è¿™ç¯‡æ–‡ç« å°±æ˜¯ä¸‰ä¸ªæ„æ€ï¼š

+ typeofä¸é è°±
+ constructorå’ŒObject.prototype.toString.call()ååˆ†å¼ºå¤§
+ nullå’Œundefinedå°½é‡ç”¨ifåˆ¤æ–­

è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼š[www.hewei.site](www.hewei.site) ä½•å¨

